{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport HorseView from '@/components/HorseView';\nimport axios from 'axios';\nimport _ from 'underscore';\nexport default {\n  name: 'App',\n  components: {\n    HorseView\n  },\n  data() {\n    return {\n      races: [],\n      transProps: {\n        name: 'flip-list'\n      },\n      horseFields: [{\n        key: \"scratchButton\",\n        label: \"\"\n      }, {\n        key: \"programNumber\",\n        label: \"#\"\n      }, {\n        key: \"mlodds\",\n        \"label\": \"ML\",\n        sortable: true\n      }, {\n        key: \"name\"\n      }, {\n        key: \"daysSinceLastRace\",\n        label: \"l/r\",\n        tdClass: this.highlightDaysSince\n      }, {\n        key: \"furlongDays\",\n        label: \"FD\",\n        formatter: this.format2Places,\n        sortable: true\n      }, {\n        key: \"style\",\n        label: \"Style\",\n        tdClass: this.highlightPaceAdvantage\n      }, {\n        key: \"classRating\",\n        label: \"Class\",\n        formatter: this.format2Places,\n        sortable: true,\n        tdClass: this.highlightMax\n      }, {\n        key: \"averageCompetitiveLevel\",\n        label: \"ACL\",\n        formatter: this.format2Places,\n        sortable: true,\n        tdClass: this.highlightMax\n      }, {\n        key: \"speedRating\",\n        label: \"Speed\",\n        formatter: this.format2Places,\n        sortable: true,\n        tdClass: this.highlightMax\n      }, {\n        key: \"arating\",\n        label: \"AR\",\n        formatter: this.format2Places,\n        sortable: true,\n        tdClass: this.highlightMax\n      }, {\n        key: \"aratingClass\",\n        label: \"AR Cl\",\n        formatter: this.format2Places,\n        sortable: true,\n        tdClass: this.highlightMax\n      }, {\n        key: \"aratingForm\",\n        label: \"AR F\",\n        formatter: this.format2Places,\n        sortable: true,\n        tdClass: this.highlightMax\n      }, {\n        key: \"aratingConnections\",\n        label: \"AR Co\",\n        formatter: this.format2Places,\n        sortable: true,\n        tdClass: this.highlightMax\n      }, {\n        key: \"e1Avg\",\n        label: \"E1\",\n        formatter: this.formatInt,\n        sortable: true,\n        tdClass: this.highlightMax\n      }, {\n        key: \"e2Avg\",\n        label: \"E2\",\n        formatter: this.formatInt,\n        sortable: true,\n        tdClass: this.highlightMax\n      }, {\n        key: \"turnTime\",\n        label: \"TT\",\n        formatter: this.formatInt,\n        sortable: true,\n        tdClass: this.highlightMax\n      }, {\n        key: \"latePaceAvg\",\n        label: \"Late\",\n        formatter: this.formatInt,\n        sortable: true,\n        tdClass: this.highlightMax\n      }, {\n        key: \"combinedPaceAvg\",\n        label: \"Comb\",\n        formatter: this.format2Places,\n        sortable: true,\n        tdClass: this.highlightMax\n      }, {\n        key: \"classShift\",\n        label: \"cSh\",\n        formatter: this.format2Places,\n        sortable: true,\n        tdClass: this.highlightShift\n      }, {\n        key: \"purseShift\",\n        label: \"pSh\",\n        formatter: this.formatInt,\n        sortable: true,\n        tdClass: this.highlightShift\n      }, {\n        key: \"detailsButton\",\n        label: \"\"\n      }, {\n        key: \"_showDetails\",\n        thClass: 'd-none',\n        tdClass: 'd-none'\n      }],\n      ppFields: [{\n        key: \"raceDateString\",\n        label: \"DATE\",\n        tdClass: this.highlightDaysSincePP\n      }, {\n        key: \"daysSinceLastRace\",\n        label: \"LR\"\n      }, {\n        key: \"trackCode\",\n        label: \"TRK\"\n      }, {\n        key: \"surface\",\n        label: \"\",\n        tdClass: this.highlightSimilarSurfDist\n      }, {\n        key: \"dist\",\n        lable: \"DIST\",\n        tdClass: this.highlightSimilarSurfDist\n      }, {\n        key: \"trackCondition\",\n        label: \"\",\n        tdClass: this.highlightSimilarSurfDist\n      }, {\n        key: \"fraction1\",\n        label: \"\"\n      }, {\n        key: \"fraction2\",\n        label: \"\"\n      }, {\n        key: \"fraction3\",\n        label: \"\"\n      }, {\n        key: \"finalTime\",\n        label: \"\"\n      }, {\n        key: \"raceStrength\",\n        label: \"RS\",\n        formatter: this.format2Places\n      }, {\n        key: \"raceClassification\",\n        label: \"RACETYPE\"\n      }, {\n        key: \"purse\",\n        tdClass: this.highlightPurseShift\n      }, {\n        key: \"e1\"\n      }, {\n        key: \"e2\",\n        label: \"E2/\"\n      }, {\n        key: \"paceFigureLate\",\n        label: \"LP\"\n      }, {\n        key: \"raceShapeFirstCall\",\n        label: \"1c\"\n      }, {\n        key: \"raceShapeSecondCall\",\n        label: \"2c\"\n      }, {\n        key: \"brisspeedRating\",\n        label: \"SPD\",\n        class: \"strong\",\n        tdClass: this.highlightSpeedInRange\n      }, {\n        key: \"postPosition\",\n        label: \"PP\"\n      }, {\n        key: \"startCallPosition\",\n        label: \"ST\"\n      }, {\n        key: \"firstCallPosition\",\n        label: \"1C\"\n      }, {\n        key: \"secondCallPosition\",\n        label: \"2C\"\n      }, {\n        key: \"stretchPosition\",\n        label: \"STR\"\n      }, {\n        key: \"finishPosition\",\n        label: \"FIN\",\n        tdClass: this.highlightFinish\n      }, {\n        key: \"jockey\",\n        label: \"JOCKEY\"\n      }, {\n        key: \"medication\",\n        label: \"\"\n      }, {\n        key: \"odds\",\n        label: \"ODDS\",\n        tdClass: this.highlightBeatenFavorite\n      }, {\n        key: \"finishers\",\n        label: \"Top Finishers\"\n      }, {\n        key: \"tripComment\",\n        label: \"Comment\"\n      }, {\n        key: \"numberOfEntrants\",\n        label: \"\"\n      }],\n      trackConditions: [{\n        value: \"ft\",\n        text: \"Fast\"\n      }, {\n        value: \"my\",\n        text: \"Muddy\"\n      }, {\n        value: \"wf\",\n        text: \"Wet Fast\"\n      }, {\n        value: \"yl\",\n        text: \"Yielding\"\n      }, {\n        value: \"hy\",\n        text: \"Heavy\"\n      }, {\n        value: \"gd\",\n        text: \"Good\"\n      }, {\n        value: \"sy\",\n        text: \"Sloppy\"\n      }, {\n        value: \"fm\",\n        text: \"Firm\"\n      }, {\n        value: \"sf\",\n        text: \"Soft\"\n      }, {\n        value: \"sl\",\n        text: \"Slow\"\n      }]\n    };\n  },\n  methods: {\n    async loadAndCalculate() {\n      try {\n        const response = await axios({\n          url: 'loadAndCalculate',\n          method: 'GET',\n          baseURL: 'http://localhost:8080/jpp/rest/remote/'\n        });\n        this.races = response.data;\n      } catch (err) {\n        console.log(err.response);\n      }\n    },\n    async calculateAndGetAll() {\n      try {\n        const response = await axios({\n          url: 'calculateAndGetAll',\n          method: 'GET',\n          baseURL: 'http://localhost:8080/jpp/rest/remote/'\n        });\n        this.races = response.data;\n      } catch (err) {\n        console.log(err.response);\n      }\n    },\n    async toggleScratch(item) {\n      try {\n        var race = _.find(this.races, function (r) {\n          return r.raceNumber == item.raceNumber;\n        });\n        await axios({\n          url: 'toggleScratch/' + race.raceNumber + '/' + item.programNumber,\n          method: 'GET',\n          baseURL: 'http://localhost:8080/jpp/rest/remote/'\n        });\n        item.scratchedFlag = !item.scratchedFlag;\n      } catch (err) {\n        console.log(err.response);\n      }\n    },\n    async toggleIgnored(item) {\n      try {\n        var race = _.find(this.races, function (r) {\n          return r.raceNumber == item.raceNumber;\n        });\n        await axios({\n          url: 'toggleIgnored/' + race.raceNumber + '/' + item.programNumber + '/' + item.raceDate[0] + '/' + item.raceDate[1] + '/' + item.raceDate[2],\n          method: 'GET',\n          baseURL: 'http://localhost:8080/jpp/rest/remote/'\n        });\n        item.ignoredFlag = !item.ignoredFlag;\n        console.log(item);\n      } catch (err) {\n        console.log(err.response);\n      }\n    },\n    async updateCondition(race) {\n      try {\n        const response = await axios({\n          url: 'setTrackCondition/' + race.raceNumber + '/' + race.trackCondition,\n          method: 'GET',\n          baseURL: 'http://localhost:8080/jpp/rest/remote/'\n        });\n        this.races = response.data;\n      } catch (err) {\n        console.log(err.response);\n      }\n    },\n    async toggleOffTheTurf(race) {\n      try {\n        const response = await axios({\n          url: 'toggleOffTheTurf/' + race.raceNumber,\n          method: 'GET',\n          baseURL: 'http://localhost:8080/jpp/rest/remote/'\n        });\n        this.races = response.data;\n      } catch (err) {\n        console.log(err.response);\n      }\n    },\n    rowClass(item, type) {\n      if (!item || type !== 'row') return;\n      if (item.scratchedFlag) return 'table-dark scratched';\n      return 'notScratched';\n    },\n    ppRowClass(item, type) {\n      if (!item || type !== 'row') return;\n      var c = \"\";\n      if (item.over365Days) c += \"diff365\";\n      if (item.over90Days && !item.over365Days) c += \"diff90\";\n      if (item.ignoreFlag) c += \" ignored\";\n      return c;\n    },\n    toggleAll(race, b) {\n      _.each(race.horses, function (horse) {\n        horse._showDetails = b;\n      });\n    },\n    fractionString(decimal) {\n      switch (decimal) {\n        case 0.13:\n          return \"hd\";\n        case 0.25:\n          return \"&frac14;\";\n        case 0.5:\n          return \"&frac12;\";\n        case 0.75:\n          return \"&frac34;\";\n      }\n    },\n    shortenJockeyName(value) {\n      return value.split(\" \")[0] + value.split(\" \")[1].charAt(0);\n    },\n    format2Places(amount) {\n      const formatter = new Intl.NumberFormat('en-US', {\n        // These options are needed to round to whole numbers if that's what you want.\n        minimumFractionDigits: 2,\n        // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n        maximumFractionDigits: 2 // (causes 2500.99 to be printed as $2,501)\n      });\n\n      return formatter.format(amount);\n    },\n    formatInt(amount) {\n      const formatter = new Intl.NumberFormat('en-US', {\n        // These options are needed to round to whole numbers if that's what you want.\n        minimumFractionDigits: 0,\n        // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n        maximumFractionDigits: 0 // (causes 2500.99 to be printed as $2,501)\n      });\n\n      return formatter.format(amount);\n    },\n    formatCurrency(amount) {\n      const formatter = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n        // These options are needed to round to whole numbers if that's what you want.\n        minimumFractionDigits: 0,\n        // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n        maximumFractionDigits: 0 // (causes 2500.99 to be printed as $2,501)\n      });\n\n      return formatter.format(amount);\n    },\n    str_pad_left(string, pad, length) {\n      return (new Array(length + 1).join(pad) + string).slice(-length);\n    },\n    highlightMax(value, key, item) {\n      var race = _.find(this.races, function (r) {\n        return r.raceNumber == item.raceNumber;\n      });\n      var values = _.pluck(_.reject(race.horses, function (h) {\n        return h.scratchedFlag;\n      }), key);\n      if (value == _.max(values)) {\n        return \"greenHighlight\";\n      }\n    },\n    highlightDaysSince(value) {\n      if (value > 180) return \"gt180\";\n      if (value > 90) return \"gt90\";\n      if (value > 45) return \"gt45\";\n    },\n    highlightDaysSincePP(value, key, item) {\n      if (item.daysSinceLastRace > 180) return \"gt180\";\n      if (item.daysSinceLastRace > 90) return \"gt90\";\n      if (item.daysSinceLastRace > 45) return \"gt45\";\n    },\n    highlightFinish(value, key, item) {\n      if (item.finishPosition == \"1\") return \"greenHighlight\";\n      if (item.finishPosition == \"2\" || item.finishPosition == \"3\") return \"lightGreenHighlight\";\n    },\n    highlightBeatenFavorite(value, key, item) {\n      if (item.favoriteFlag && item.finishPosition != \"1\") return \"yellowHighlight\";\n    },\n    highlightPurseShift(value, key, item) {\n      var race = _.find(this.races, function (r) {\n        return r.raceNumber == item.thisRaceNumber;\n      });\n      if (item.purse >= race.purse + 20000) return \"greenHighlight\";\n      if (item.purse > race.purse) return \"lightGreenHighlight\";\n      if (item.purse == race.purse) return \"\";\n      if (item.purse < race.purse - 10000) return \"yellowHighlight\";\n      if (item.purse < race.purse - 20000) return \"lightRedHighlight\";\n      if (item.purse < race.purse - 30000) return \"redHighlight\";\n    },\n    highlightSpeedInRange(value, key, item) {\n      var race = _.find(this.races, function (r) {\n        return r.raceNumber == item.thisRaceNumber;\n      });\n      if (item.brisspeedRating >= race.parSpeed) return \"greenHighlight\";\n      if (item.brisspeedRating >= race.parSpeed - 3) return \"lightGreenHighlight\";\n    },\n    highlightPaceAdvantage(value, key, item) {\n      var race = _.find(this.races, function (r) {\n        return r.raceNumber == item.raceNumber;\n      });\n      if (_.contains(_.pluck(race.advantagedHorses, \"programNumber\"), item.programNumber)) return \"greenHighlight\";\n    },\n    highlightShift(value) {\n      if (value < 0) return \"greenHighlight\";\n      if (value > 0) return \"yellowHighlight\";\n    },\n    highlightSimilarSurfDist(value, key, item) {\n      var race = _.find(this.races, function (r) {\n        return r.raceNumber == item.thisRaceNumber;\n      });\n      if (race.surface.indexOf(\"TURF\") > -1 && !race.offTheTurfFlag) {\n        if (item.surface.indexOf(\"TURF\") > -1 && (race.trackCondition == \"fm\" && item.trackCondition == \"fm\" || race.trackCondition != \"fm\" && [\"tf\", \"gd\", \"gf\", \"hd\", \"yl\", \"sf\", \"hy\", \"sl\"].indexOf(item.trackCondition) > -1) && (race.furlongs < 8 && item.furlongs < 8 || race.furlongs >= 8 && item.furlongs >= 8)) return \"blueHighlight\";\n      } else {\n        if ((item.surface.indexOf(\"TURF\") == -1 || item.offTheTurfFlag) && (race.trackCondition == \"ft\" && item.trackCondition == \"ft\" || race.trackCondition != \"ft\" && [\"gd\", \"hy\", \"my\", \"sl\", \"sy\", \"wf\"].indexOf(item.trackCondition) > -1) && (race.furlongs < 8 && item.furlongs < 8 || race.furlongs >= 8 && item.furlongs >= 8)) return \"blueHighlight\";\n      }\n    },\n    alsoInRace(nameToMatch, row) {\n      var race = _.find(this.races, function (r) {\n        return r.raceNumber == row.thisRaceNumber;\n      });\n      var names = _.pluck(race.horses, \"name\");\n      if (names.indexOf(nameToMatch) > -1 && nameToMatch != row.name) return \"alsoInRace\";\n    },\n    fastWorkout(workout) {\n      if (Math.floor(Math.abs(workout.timeOfWorkout) / workout.furlongs < 12)) return \"greenHighlight\";\n      if (Math.floor(Math.abs(workout.timeOfWorkout)) == 12 * workout.furlongs) return \"lightGreenHighlightBorder\";\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AAEA;AACA;AAEA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;QACAL;MACA;MACAM,cACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAA;QAAAE;MAAA,GACA;QAAAF;MAAA,GACA;QAAAA;QAAAC;QAAAE;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;MAAA,GACA;QAAAF;QAAAC;QAAAE;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAG;QAAAF;QAAAC;MAAA,GACA;QAAAH;QAAAC;MAAA,GACA;QAAAD;QAAAK;QAAAF;MAAA,EAEA;MACAG,WACA;QAAAN;QAAAC;QAAAE;MAAA,GACA;QAAAH;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;QAAAE;MAAA,GACA;QAAAH;QAAAO;QAAAJ;MAAA,GACA;QAAAH;QAAAC;QAAAE;MAAA,GACA;QAAAH;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;QAAAG;MAAA,GACA;QAAAJ;QAAAC;MAAA,GACA;QAAAD;QAAAG;MAAA,GACA;QAAAH;MAAA,GACA;QAAAA;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;QAAAO;QAAAL;MAAA,GACA;QAAAH;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;QAAAE;MAAA,GACA;QAAAH;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;QAAAE;MAAA,GACA;QAAAH;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MACAQ,kBACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA;IAEA;EACA;EACAC;IACA;MACA;QACA;UACAC;UACAC;UACAC;QACA;QACA;MACA;QACAC;MAEA;IACA;IACA;MACA;QACA;UACAH;UACAC;UACAC;QACA;QACA;MACA;QACAC;MAEA;IACA;IACA;MACA;QACA;UACA;QACA;QACA;UACAH;UACAC;UACAC;QACA;QACAE;MACA;QACAD;MAEA;IACA;IACA;MACA;QACA;UACA;QACA;QACA;UACAH;UACAC;UACAC;QACA;QACAE;QACAD;MACA;QACAA;MAEA;IACA;IACA;MACA;QACA;UACAH;UACAC;UACAC;QACA;QACA;MACA;QACAC;MAEA;IACA;IACA;MACA;QACA;UACAH;UACAC;UACAC;QACA;QACA;MACA;QACAC;MAEA;IACA;IACAE;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MAEA;MACA;MAEA;MAEA;IACA;IACAC;MACAC;QACAC;MACA;IACA;IACAC;MACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;MAAA;IAEA;IACAC;MACA;IACA;IACAC;MACA;QAGA;QACAC;QAAA;QACAC;MACA;;MACA;IACA;IACAC;MACA;QAGA;QACAF;QAAA;QACAC;MACA;;MACA;IACA;IACAE;MACA;QACAC;QACAC;QAEA;QACAL;QAAA;QACAC;MACA;;MACA;IACA;IACAK;MACA;IACA;IACAC;MACA;QACA;MACA;MAEA;QACA;MACA;MAEA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;MAEA;MACA;IACA;IACAC;MACA;QACA;MACA;MAEA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;MAEA;QACA,IACAzB,sCACA0B,qLACAA,qFACA;MACA;QACA,oEACAA,yKACAA,qFACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;MACA;IAEA;IACAC;MACA;MACA;IACA;EACA;AACA","names":["name","components","HorseView","data","races","transProps","horseFields","key","label","sortable","tdClass","formatter","thClass","ppFields","lable","class","trackConditions","value","text","methods","url","method","baseURL","console","item","rowClass","ppRowClass","toggleAll","_","horse","fractionString","shortenJockeyName","format2Places","minimumFractionDigits","maximumFractionDigits","formatInt","formatCurrency","style","currency","str_pad_left","highlightMax","highlightDaysSince","highlightDaysSincePP","highlightFinish","highlightBeatenFavorite","highlightPurseShift","highlightSpeedInRange","highlightPaceAdvantage","highlightShift","highlightSimilarSurfDist","race","alsoInRace","fastWorkout"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n\t<div id=\"app\">\n\t\t<b-container fluid>\n\n\t\t\t<b-navbar id=\"nav\" toggleable=\"sm\" class=\"py-2\" type=\"dark\" variant=\"primary\">\n\t\t\t\t\t\t\t\n\t\t\t\t<b-navbar-toggle target=\"nav-collapse\"></b-navbar-toggle>\n\t\t\t\t<b-collapse id=\"nav-collapse\" is-nav>\n\t\t\t\t\t<b-navbar-nav small>\n\t\t\t\t\t\t<b-nav-item class=\"h4\">JPP-UI</b-nav-item>\n\t\t\t\t\t</b-navbar-nav>\n\t\t\t\t</b-collapse>\n\t\t\t\t<!-- Right aligned nav items -->\n\t\t\t\t<b-navbar-nav>\n\t\t\t\t\t<b-nav-form>\n\t\t\t\t\t\t<b-form-input size=\"sm\" placeholder=\"Filename\"></b-form-input>\t\t\n\t\t\t\t\t</b-nav-form>\n\t\t\t\t</b-navbar-nav>\n\t\t\t\t<b-navbar-nav class=\"\" small>\n\t\t\t\t\t<b-nav-item @click=\"loadAndCalculate\">Load</b-nav-item>\n\t\t\t\t\t<b-nav-item @click=\"calculateAndGetAll\">Calculate</b-nav-item>\n\t\t\t\t</b-navbar-nav>\n\t\t\t</b-navbar>\n\n\t\t\t<b-tabs>\n\t\t\t\t<b-tab v-for=\"race in races\" :key=\"race.raceNumber\">\n\t\t\t\t\t<template #title>\n\t\t\t\t\t\tRace {{race.raceNumber}}&nbsp;\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t<h5 class=\"card-title\">\n\t\t\t\t\t\t\t\t<span>Race {{race.raceNumber}}</span>\n\t\t\t\t\t\t\t\t<small v-b-toggle=\"'collapse-'+race.race_id\"> - <u>show/hide details</u></small>\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<b-collapse :id=\"'collapse-'+race.race_id\" visible>\n\t\t\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t\t\t${{race.purse}} {{race.raceType}}\n\t\t\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t\t\t{{race.surface}} {{race.furlongs}} Furlongs\n\t\t\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t\t\t\t<b-col cols=\"6\">\n\t\t\t\t\t\t\t\t\t\t{{race.ageRestriction}} {{race.ageRestrictionRange}} {{race.sexRestriction}}\n\t\t\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t\t\t<b-col cols=\"8\">\n\t\t\t\t\t\t\t\t\t\tWagers: {{race.wagerTypes}}\n\t\t\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t\t\tPost Times: {{race.postTimes}}\n\t\t\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t\t</b-collapse>\n\t\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t\t{{race.paceScenario}}\n\t\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t\t\t<b-col cols=\"3\">\n\t\t\t\t\t\t\t\t\tPars: {{race.furlongs &lt; 8 ? race.parPace2F : race.parPace4F}} {{race.furlongs &lt; 8 ? race.parPace4F : race.parPace6F}} / {{race.parLatePace}} - {{race.parSpeed}} \n\t\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t\tMaxSpeed: {{race.maxSpeedRating}}\n\t\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t\tE1Avg: {{race.e1Avg}}\n\t\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t\tE2Avg: {{race.e2Avg}}\n\t\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t\tMaxE2: {{race.maxE2}}\n\t\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t\tLatePaceBestL3: {{race.latePaceBestLast3}}\n\t\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<b-navbar id=\"nav\" class=\"py-2\" variant=\"success\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!-- Right aligned nav items -->\n\t\t\t\t\t\t\t<b-navbar-nav>\n\t\t\t\t\t\t\t\t<b-nav-form>\n\t\t\t\t\t\t\t\t\t<b-form-select v-model=\"race.trackCondition\" :options=\"trackConditions\" @change=\"updateCondition(race)\"></b-form-select>\t\t\n\t\t\t\t\t\t\t\t\t<b-form-checkbox switch class=\"m-2\" v-if=\"race.surface.indexOf('TURF') > -1\" v-model=\"race.offTheTurfFlag\" @change=\"toggleOffTheTurf(race)\">Off</b-form-checkbox>\n\t\t\t\t\t\t\t\t</b-nav-form>\n\t\t\t\t\t\t\t</b-navbar-nav>\n\t\t\t\t\t\t\t<b-navbar-nav class=\"ml-auto\" small>\n\t\t\t\t\t\t\t\t<b-nav-item @click=\"toggleAll(race, true)\">+</b-nav-item>\n\t\t\t\t\t\t\t\t<b-nav-item @click=\"toggleAll(race, false)\">-</b-nav-item>\n\t\t\t\t\t\t\t</b-navbar-nav>\n\t\t\t\t\t\t</b-navbar>\t\t\n\n\t\t\t\t\t<horse-view :race=\"race\"></horse-view>\n\t\t\t\t</b-tab>\n\t\t\t</b-tabs>\n\n\t\t</b-container>\n\t</div>\n</template>\n\n<script>\nimport HorseView from '@/components/HorseView'\n\nimport axios from 'axios'\nimport _ from 'underscore'\n\nexport default {\n\tname: 'App',\n\tcomponents: {\n\t\tHorseView\n\t},\n\tdata () {\n\t\treturn {\n\t\t\traces: [],\n\t\t\ttransProps: {\n\t\t\t\tname: 'flip-list'\n\t\t\t},\n\t\t\thorseFields: [\n\t\t\t\t{key: \"scratchButton\", label:\"\"},\n\t\t\t\t{key: \"programNumber\", label:\"#\"},\n\t\t\t\t{key: \"mlodds\", \"label\": \"ML\", sortable:true},\n\t\t\t\t{key: \"name\"},\n\t\t\t\t{key: \"daysSinceLastRace\", label:\"l/r\", tdClass: this.highlightDaysSince},\n\t\t\t\t{key: \"furlongDays\", label: \"FD\", formatter: this.format2Places, sortable: true},\n\t\t\t\t{key: \"style\", label: \"Style\", tdClass: this.highlightPaceAdvantage },\n\t\t\t\t{key: \"classRating\", label:\"Class\", formatter: this.format2Places, sortable: true, tdClass: this.highlightMax},\n\t\t\t\t{key: \"averageCompetitiveLevel\", label:\"ACL\", formatter: this.format2Places, sortable: true, tdClass: this.highlightMax},\n\t\t\t\t{key: \"speedRating\", label:\"Speed\", formatter: this.format2Places, sortable: true, tdClass: this.highlightMax},\n\t\t\t\t{key: \"arating\", label: \"AR\", formatter: this.format2Places, sortable: true, tdClass: this.highlightMax},\n\t\t\t\t{key: \"aratingClass\", label:\"AR Cl\", formatter: this.format2Places, sortable: true, tdClass: this.highlightMax},\n\t\t\t\t{key: \"aratingForm\", label:\"AR F\", formatter: this.format2Places, sortable: true, tdClass: this.highlightMax}, \n\t\t\t\t{key: \"aratingConnections\", label:\"AR Co\", formatter: this.format2Places, sortable: true, tdClass: this.highlightMax},\n\t\t\t\t{key: \"e1Avg\", label:\"E1\", formatter: this.formatInt, sortable: true, tdClass: this.highlightMax},\n\t\t\t\t{key: \"e2Avg\", label:\"E2\", formatter: this.formatInt, sortable: true, tdClass: this.highlightMax},\n\t\t\t\t{key: \"turnTime\", label:\"TT\", formatter: this.formatInt, sortable: true, tdClass: this.highlightMax},\n\t\t\t\t{key: \"latePaceAvg\", label:\"Late\", formatter: this.formatInt, sortable: true, tdClass: this.highlightMax},\n\t\t\t\t{key: \"combinedPaceAvg\", label:\"Comb\", formatter: this.format2Places, sortable: true, tdClass: this.highlightMax},\n\t\t\t\t{key: \"classShift\", label:\"cSh\", formatter: this.format2Places, sortable: true, tdClass: this.highlightShift},\n\t\t\t\t{key: \"purseShift\", label:\"pSh\", formatter: this.formatInt, sortable: true, tdClass: this.highlightShift},\n\t\t\t\t{key: \"detailsButton\", label:\"\"},\n\t\t\t\t{key: \"_showDetails\", thClass: 'd-none', tdClass: 'd-none' }\n\n\t\t\t],\n\t\t\tppFields: [\n\t\t\t\t{key: \"raceDateString\", label: \"DATE\",tdClass: this.highlightDaysSincePP},\n\t\t\t\t{key: \"daysSinceLastRace\", label: \"LR\"},\n\t\t\t\t{key: \"trackCode\", label: \"TRK\"},\n\t\t\t\t{key: \"surface\", label: \"\", tdClass: this.highlightSimilarSurfDist},\n\t\t\t\t{key: \"dist\", lable: \"DIST\", tdClass: this.highlightSimilarSurfDist},\n\t\t\t\t{key: \"trackCondition\", label: \"\", tdClass: this.highlightSimilarSurfDist},\n\t\t\t\t{key: \"fraction1\", label: \"\"},\n\t\t\t\t{key: \"fraction2\", label: \"\"},\n\t\t\t\t{key: \"fraction3\", label: \"\"},\n\t\t\t\t{key: \"finalTime\", label: \"\"},\n\t\t\t\t{key: \"raceStrength\", label: \"RS\", formatter: this.format2Places},\n\t\t\t\t{key: \"raceClassification\", label: \"RACETYPE\"},\n\t\t\t\t{key: \"purse\", tdClass: this.highlightPurseShift},\n\t\t\t\t{key: \"e1\"},\n\t\t\t\t{key: \"e2\", label: \"E2/\"},\n\t\t\t\t{key: \"paceFigureLate\", label: \"LP\"},\n\t\t\t\t{key: \"raceShapeFirstCall\", label: \"1c\"},\n\t\t\t\t{key: \"raceShapeSecondCall\", label: \"2c\"},\n\t\t\t\t{key: \"brisspeedRating\", label: \"SPD\", class: \"strong\", tdClass: this.highlightSpeedInRange},\n\t\t\t\t{key: \"postPosition\", label: \"PP\"},\n\t\t\t\t{key: \"startCallPosition\", label: \"ST\"},\n\t\t\t\t{key: \"firstCallPosition\", label: \"1C\"},\n\t\t\t\t{key: \"secondCallPosition\", label: \"2C\"},\n\t\t\t\t{key: \"stretchPosition\", label: \"STR\"},\n\t\t\t\t{key: \"finishPosition\", label: \"FIN\", tdClass: this.highlightFinish},\n\t\t\t\t{key: \"jockey\", label: \"JOCKEY\"},\n\t\t\t\t{key: \"medication\", label: \"\"},\n\t\t\t\t{key: \"odds\", label: \"ODDS\", tdClass: this.highlightBeatenFavorite},\n\t\t\t\t{key: \"finishers\", label: \"Top Finishers\"},\n\t\t\t\t{key: \"tripComment\", label: \"Comment\"},\n\t\t\t\t{key: \"numberOfEntrants\", label: \"\"},\n\t\t\t],\n\t\t\ttrackConditions: [\n\t\t\t\t{value: \"ft\", text: \"Fast\"},\n\t\t\t\t{value: \"my\", text: \"Muddy\"},\n\t\t\t\t{value: \"wf\", text: \"Wet Fast\"},\n\t\t\t\t{value: \"yl\", text: \"Yielding\"},\n\t\t\t\t{value: \"hy\", text: \"Heavy\"},\n\t\t\t\t{value: \"gd\", text: \"Good\"},\n\t\t\t\t{value: \"sy\", text: \"Sloppy\"},\n\t\t\t\t{value: \"fm\", text: \"Firm\"},\n\t\t\t\t{value: \"sf\", text: \"Soft\"},\n\t\t\t\t{value: \"sl\", text: \"Slow\"}\n\t\t\t]\n\t\t}\n\t},\n\tmethods: {\n\t\tasync loadAndCalculate() {\n            try {\n                const response = await axios({\n                    url: 'loadAndCalculate',\n                    method: 'GET',\n                    baseURL: 'http://localhost:8080/jpp/rest/remote/'\n                });\n                this.races = response.data;\n            } catch (err) {\n                console.log(err.response);\n                \n            }\n\t\t},\n\t\tasync calculateAndGetAll() {\n            try {\n                const response = await axios({\n                    url: 'calculateAndGetAll',\n                    method: 'GET',\n                    baseURL: 'http://localhost:8080/jpp/rest/remote/'\n                });\n                this.races = response.data;\n            } catch (err) {\n                console.log(err.response);\n                \n            }\n\t\t},\t\t\n\t\tasync toggleScratch(item) {\n            try {\n\t\t\t\tvar race = _.find(this.races, function(r){\n\t\t\t\t\treturn r.raceNumber == item.raceNumber;\n\t\t\t\t});\n                await axios({\n                    url: 'toggleScratch/' + race.raceNumber + '/' + item.programNumber,\n                    method: 'GET',\n                    baseURL: 'http://localhost:8080/jpp/rest/remote/'\n                });\n                item.scratchedFlag = !item.scratchedFlag;\n            } catch (err) {\n                console.log(err.response);\n                \n            }\n\t\t},\n\t\tasync toggleIgnored(item) {\n            try {\n\t\t\t\tvar race = _.find(this.races, function(r){\n\t\t\t\t\treturn r.raceNumber == item.raceNumber;\n\t\t\t\t});\n                await axios({\n                    url: 'toggleIgnored/' + race.raceNumber + '/' + item.programNumber + '/' + item.raceDate[0] + '/' + item.raceDate[1] + '/' + item.raceDate[2],\n                    method: 'GET',\n                    baseURL: 'http://localhost:8080/jpp/rest/remote/'\n                });\n                item.ignoredFlag = !item.ignoredFlag;\n\t\t\t\tconsole.log(item);\n            } catch (err) {\n                console.log(err.response);\n                \n            }\n\t\t},\t\t\n\t\tasync updateCondition(race) {\n            try {\n                const response = await axios({\n                    url: 'setTrackCondition/' + race.raceNumber + '/' + race.trackCondition,\n                    method: 'GET',\n                    baseURL: 'http://localhost:8080/jpp/rest/remote/'\n                });\n\t\t\t\tthis.races = response.data;\n            } catch (err) {\n                console.log(err.response);\n                \n            }\t\t\n\t\t},\n\t\tasync toggleOffTheTurf(race) {\n            try {\n                const response = await axios({\n                    url: 'toggleOffTheTurf/' + race.raceNumber,\n                    method: 'GET',\n                    baseURL: 'http://localhost:8080/jpp/rest/remote/'\n                });\n\t\t\t\tthis.races = response.data;\n            } catch (err) {\n                console.log(err.response);\n                \n            }\t\t\n\t\t},\t\t\n\t\trowClass(item, type) {\n\t\t\tif (!item || type !== 'row') return;\n\t\t\tif (item.scratchedFlag) return 'table-dark scratched'\n\t\t\treturn 'notScratched';\n\t\t},\n\t\tppRowClass(item, type) {\n\t\t\tif (!item || type !== 'row') return;\n\t\t\tvar c = \"\";\n\t\t\t\n\t\t\tif (item.over365Days) c += \"diff365\";\n\t\t\tif (item.over90Days && !item.over365Days) c += \"diff90\";\n\t\t\t\n\t\t\tif (item.ignoreFlag) c += \" ignored\";\n\t\t\t\n\t\t\treturn c;\n\t\t},\n\t\ttoggleAll(race, b) {\n\t\t\t_.each(race.horses, function(horse){\t\t\n\t\t\t\thorse._showDetails = b;\n\t\t\t});\n\t\t},\t\t\n\t\tfractionString(decimal) {\n\t\t\tswitch(decimal) {\n\t\t\t\tcase 0.13:\n\t\t\t\t\treturn \"hd\";\n\t\t\t\tcase 0.25:\n\t\t\t\t\treturn \"&frac14;\";\n\t\t\t\tcase 0.5:\n\t\t\t\t\treturn \"&frac12;\";\n\t\t\t\tcase 0.75:\n\t\t\t\t\treturn \"&frac34;\";\n\t\t\t}\n\t\t},\n\t\tshortenJockeyName(value) {\n\t\t\treturn value.split(\" \")[0] + value.split(\" \")[1].charAt(0);\n\t\t},\n\t\tformat2Places(amount) {\n\t\t\tconst formatter = new Intl.NumberFormat('en-US', {\n\n\n\t\t\t\t// These options are needed to round to whole numbers if that's what you want.\n\t\t\t\tminimumFractionDigits: 2, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n\t\t\t\tmaximumFractionDigits: 2, // (causes 2500.99 to be printed as $2,501)\n\t\t\t});\n\t\t\treturn formatter.format(amount);\n\t\t}  ,\n\t\tformatInt(amount) {\n\t\t\tconst formatter = new Intl.NumberFormat('en-US', {\n\n\n\t\t\t\t// These options are needed to round to whole numbers if that's what you want.\n\t\t\t\tminimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n\t\t\t\tmaximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n\t\t\t});\n\t\t\treturn formatter.format(amount);\n\t\t},\n\t\tformatCurrency(amount) {\n\t\t\tconst formatter = new Intl.NumberFormat('en-US', {\n\t\t\t\tstyle: 'currency',\n\t\t\t\tcurrency: 'USD',\n\n\t\t\t\t// These options are needed to round to whole numbers if that's what you want.\n\t\t\t\tminimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n\t\t\t\tmaximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n\t\t\t});\n\t\t\treturn formatter.format(amount);\n\t\t},\t\n\t\tstr_pad_left(string,pad,length) {\n\t\t\treturn (new Array(length+1).join(pad)+string).slice(-length);\n\t\t},\t\n\t\thighlightMax(value, key, item) {\n\t\t\tvar race = _.find(this.races, function(r){\n\t\t\t\treturn r.raceNumber == item.raceNumber;\n\t\t\t});\n\n\t\t\tvar values = _.pluck(_.reject(race.horses, function(h) {\n\t\t\t\treturn h.scratchedFlag;\n\t\t\t}), key);\n\n\t\t\tif (value == _.max(values)) {\n\t\t\t\treturn \"greenHighlight\";\n\t\t\t}\n\t\t},\n\t\thighlightDaysSince(value) {\n\t\t\tif (value  > 180) return \"gt180\";\n\t\t\tif (value > 90) return \"gt90\";\n\t\t\tif (value > 45) return \"gt45\";\n\t\t},\n\t\thighlightDaysSincePP(value, key , item) {\n\t\t\tif (item.daysSinceLastRace  > 180) return \"gt180\";\n\t\t\tif (item.daysSinceLastRace > 90) return \"gt90\";\n\t\t\tif (item.daysSinceLastRace > 45) return \"gt45\";\n\t\t},\t\n\t\thighlightFinish(value, key, item) {\n\t\t\tif (item.finishPosition == \"1\") return \"greenHighlight\";\n\t\t\tif (item.finishPosition == \"2\" || item.finishPosition == \"3\") return \"lightGreenHighlight\";\n\t\t},\t\n\t\thighlightBeatenFavorite(value,key,item) {\n\t\t\tif (item.favoriteFlag && item.finishPosition != \"1\") return \"yellowHighlight\";\n\t\t},\n\t\thighlightPurseShift(value,key,item) {\n\t\t\tvar race = _.find(this.races, function(r){\n\t\t\t\treturn r.raceNumber == item.thisRaceNumber;\n\t\t\t});\n\n\t\t\tif (item.purse >= race.purse + 20000 ) return \"greenHighlight\";\n\t\t\tif (item.purse > race.purse) return \"lightGreenHighlight\";\n\t\t\tif (item.purse == race.purse) return \"\";\n\t\t\tif (item.purse < race.purse - 10000) return \"yellowHighlight\";\n\t\t\tif (item.purse < race.purse - 20000) return \"lightRedHighlight\";\n\t\t\tif (item.purse < race.purse - 30000) return \"redHighlight\";\n\t\t},\n\t\thighlightSpeedInRange(value,key,item) {\n\t\t\tvar race = _.find(this.races, function(r){\n\t\t\t\treturn r.raceNumber == item.thisRaceNumber;\n\t\t\t});\n\n\t\t\tif (item.brisspeedRating >= race.parSpeed) return \"greenHighlight\";\n\t\t\tif (item.brisspeedRating >= race.parSpeed - 3) return \"lightGreenHighlight\";\n\t\t},\n\t\thighlightPaceAdvantage(value, key, item) {\n\t\t\tvar race = _.find(this.races, function(r){\n\t\t\t\treturn r.raceNumber == item.raceNumber;\n\t\t\t});\n\n\t\t\tif (_.contains(_.pluck(race.advantagedHorses,\"programNumber\"), item.programNumber)) return \"greenHighlight\";\n\t\t},\n\t\thighlightShift(value) {\n\t\t\tif (value < 0) return \"greenHighlight\";\n\t\t\tif (value > 0) return \"yellowHighlight\";\n\t\t},\n\t\thighlightSimilarSurfDist(value, key, item) {\n\t\t\tvar race = _.find(this.races, function(r){\n\t\t\t\treturn r.raceNumber == item.thisRaceNumber;\n\t\t\t});\n\n\t\t\tif (race.surface.indexOf(\"TURF\") > -1 && !race.offTheTurfFlag) {\n\t\t\t\tif (\n\t\t\t\t\titem.surface.indexOf(\"TURF\") > -1 \n\t\t\t\t\t&& ((race.trackCondition == \"fm\" && item.trackCondition == \"fm\") || (race.trackCondition != \"fm\" && [\"tf\",\"gd\",\"gf\",\"hd\",\"yl\",\"sf\",\"hy\",\"sl\"].indexOf(item.trackCondition) > -1))\n\t\t\t\t\t&& ((race.furlongs < 8 && item.furlongs < 8) || (race.furlongs >= 8 && item.furlongs >= 8))) \n\t\t\t\t\treturn \"blueHighlight\";\n\t\t\t} else {\n\t\t\t\tif ((item.surface.indexOf(\"TURF\") == -1 || item.offTheTurfFlag)\n\t\t\t\t\t&& ((race.trackCondition == \"ft\" && item.trackCondition == \"ft\") || (race.trackCondition != \"ft\" && [\"gd\",\"hy\",\"my\",\"sl\",\"sy\",\"wf\"].indexOf(item.trackCondition) > -1))\n\t\t\t\t\t&& ((race.furlongs < 8 && item.furlongs < 8) || (race.furlongs >= 8 && item.furlongs >= 8))) \n\t\t\t\t\treturn \"blueHighlight\";\n\t\t\t}\n\t\t},\n\t\talsoInRace(nameToMatch, row) {\n\t\t\tvar race = _.find(this.races, function(r){\n\t\t\t\treturn r.raceNumber == row.thisRaceNumber;\n\t\t\t});\n\t\t\tvar names = _.pluck(race.horses, \"name\");\n\t\t\tif (names.indexOf(nameToMatch) > -1 && nameToMatch != row.name) return \"alsoInRace\";\n\n\t\t},\n\t\tfastWorkout(workout) {\n\t\t\tif (Math.floor(Math.abs(workout.timeOfWorkout) / workout.furlongs < 12)) return \"greenHighlight\";\n\t\t\tif (Math.floor(Math.abs(workout.timeOfWorkout)) ==  12 * workout.furlongs) return \"lightGreenHighlightBorder\";\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n\n#nav {\n  padding: 30px;\n}\n\ntable#pps .flip-list-move {\n  transition: transform 1s;\n}\n\n#filenameform {\n\twidth: 400px;\n}\n.pp {\n\tfont-size: xx-small;\n}\n\n.diff365 {\n\tborder-top: solid orange;\n}\n\n.diff90 {\n\tborder-top: solid purple;\n}\n\n.workout {\n\twhite-space: pre;\n}\n\n.alsoInRace, .strong {\n\tfont-weight: bold;\n}\n\n.scratched, .ignored {\n\ttext-decoration: line-through;\n}\n\n.greenHighlight {\n\tbackground-color: greenyellow;\n}\n\n.lightGreenHighlight {\n\tbackground-color: rgb(223, 249, 184);\n}\n\n.lightGreenHighlightBorder {\n\tborder-bottom: solid greenyellow;\n}\n\n.blueHighlight {\n\tbackground-color: lightblue;\n}\n\n.gt180, redHighlight {\n\tbackground-color: red;\n}\n\n.gt90, lightRedHighlight {\n\tbackground-color: rgb(231, 194, 194)\n}\n\n.gt45, .yellowHighlight  {\n\tbackground-color: yellow;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}